# API Endpoints для работы с поездками

## Описание

Данный набор эндпоинтов представляет интерфейс для работы с поездками

### GET `/trips/`

- **Цель**: Получение списка всех поездок, с возможностью фильтрации по ключевым словам, начальному и конечному пунктам,
  а также актуальности поездок.
- **Параметры запроса**:
    - `search`: строка для поиска по описанию и конечному пункту.
    - `start_location`: фильтр по начальному пункту поездки.
    - `end_location`: фильтр по конечному пункту поездки.
    - `is_actual`: флаг для фильтрации поездок, которые ещё не начались.
- **Логика**: Формируется SQL запрос с учетом указанных параметров фильтрации и выполняется асинхронный запрос к базе
  данных.
- **Ответ**: Список объектов `Trip`, соответствующих заданным критериям фильтрации.

### POST `/trips/`

- **Цель**: Создание новой поездки.
- **Схема запроса**: Данные о поездке (`TripBase`), включая описание, начальный и конечный пункты, даты начала и
  окончания.
- **Логика**: Данные о поездке добавляются в базу данных с указанием ID пользователя, создавшего поездку. Это
  достигается за счет использования зависимости `get_current_auth_user`, которая возвращает текущего
  аутентифицированного пользователя.
- **Ответ**: Данные созданной поездки (`Trip`).

### GET `/trips/{trip_id}/`

- **Цель**: Получение детальной информации о конкретной поездке, включая информацию о пользователях, которым поездка
  понравилась.
- **Параметры пути**:
    - `trip_id`: идентификатор поездки.
- **Логика**: Проверяется наличие поездки с указанным `trip_id`. Если поездка найдена, выполняется запрос для получения
  списка пользователей, которым поездка понравилась (ликнувших её).
- **Ответ**: Детальная информация о поездке (`TripDetail`), включая список пользователей, которым поездка понравилась.

### PATCH `/trips/{trip_id}/`

- **Цель**: Обновление информации о поездке.
- **Параметры пути**:
    - `trip_id`: идентификатор поездки.
- **Схема запроса**: Частичные данные о поездке (`TripBasePartial`), которые необходимо обновить.
- **Логика**: Сначала проверяется, существует ли поездка с указанным `trip_id` и является ли текущий пользователь её
  владельцем. Если условия выполняются, информация о поездке обновляется согласно предоставленным данным.
- **Ответ**: Обновлённые данные о поездке (`Trip`).

Эти эндпоинты предоставляют основные функции для работы с поездками в приложении, позволяя пользователям искать поездки,
создавать новые, просматривать детали конкретных поездок и обновлять информацию о своих поездках.
